<style>
    :root {
        --card-gap: 20px;
        --dot-size: 10px;
    }

    .events-section {
        padding: 40px 24px;
        background: #f7f8fb;
        text-align: center;
    }

    .section-title {
        font-size: 1.75rem;
        margin-bottom: 20px;
        font-weight: 700;
        color: #111827;
    }

    .event-carousel-container {
        position: relative;
        display: flex;
        align-items: center;
        overflow: hidden;
        max-width: 1200px;
        margin: 0 auto;
    }

    .event-carousel {
        display: flex;
        gap: var(--card-gap);
        transition: transform 0.45s cubic-bezier(.22, .9, .35, 1);
        will-change: transform;
        padding: 10px 4px;
    }

    .event-card {
        background: #fff;
        border-radius: 12px;
        box-shadow: 0 6px 18px rgba(15, 23, 42, 0.06);
        overflow: hidden;
        width: 280px;
        flex-shrink: 0;
        transition: transform 0.25s ease, box-shadow 0.25s ease;
    }

    .event-card:hover {
        transform: translateY(-6px);
        box-shadow: 0 10px 30px rgba(15, 23, 42, 0.09);
    }

    .event-card img {
        width: 100%;
        height: 170px;
        object-fit: cover;
        display: block;
    }

    .event-info {
        padding: 14px 16px 18px;
        text-align: left;
    }

    .event-info h3 {
        font-size: 1.02rem;
        margin: 0 0 8px 0;
        color: #0f172a;
    }

    .event-info p {
        margin: 0;
        color: #6b7280;
        font-size: 0.92rem;
    }

    .event-info h3 a {
        text-decoration: none;
        color: #222;
        transition: color 0.3s;
    }

    .event-info h3 a:hover {
        color: #16A34A;
    }


    .event-nav {
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
        background: #ffffff;
        border: none;
        padding: 10px;
        font-size: 20px;
        width: 44px;
        height: 44px;
        border-radius: 50%;
        cursor: pointer;
        box-shadow: 0 6px 18px rgba(2, 6, 23, 0.08);
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 30;
    }

    .event-nav.prev {
        left: 6px;
    }

    .event-nav.next {
        right: 6px;
    }

    .event-nav:hover {
        background: #16A34A;
        transition: 0.7s ease;
    }

    .event-nav:disabled {
        opacity: 0.45;
        cursor: default;
        pointer-events: none;
    }

    /* Pagination Dots */
    .carousel-dots {
        display: flex;
        justify-content: center;
        margin-top: 16px;
        gap: 8px;
    }

    .carousel-dot {
        width: var(--dot-size);
        height: var(--dot-size);
        background: #d1d5db;
        border-radius: 50%;
        cursor: pointer;
        transition: all 0.3s ease;
    }

    .carousel-dot.active {
        background: #16A34A;
        transform: scale(1.2);
    }

    /* responsive card widths */
    @media (max-width: 1200px) {
        .event-card {
            width: 250px;
        }
    }

    @media (max-width: 1024px) {
        .event-card {
            width: 220px;
        }
    }

    @media (max-width: 768px) {
        .event-card {
            width: 180px;
        }
    }

    @media (max-width: 480px) {
        .event-card {
            width: calc(100% - 48px);
        }
    }
</style>

<section class="events-section">
    <h2 class="section-title">Upcoming Events</h2>

    <div class="event-carousel-container">
        <button class="event-nav prev" aria-label="Previous events">&#10094;</button>

        <div class="event-carousel">
            <div class="event-card">
                <a href="event1.html">
                    <img src="assets/images/event1.jpg" alt="Event 1">
                </a>
                <div class="event-info">
                    <h3><a href="event1.html">Annual Cultural Fest</a></h3>
                    <p><span class="calendar-icon">ðŸ“…</span> 12 October 2025</p>
                </div>
            </div>
            <div class="event-card">
                <a href="event1.html">
                    <img src="assets/images/event1.jpg" alt="Event 1">
                </a>
                <div class="event-info">
                    <h3><a href="event1.html">Annual Cultural Fest</a></h3>
                    <p><span class="calendar-icon">ðŸ“…</span> 12 October 2025</p>
                </div>
            </div>
            <div class="event-card">
                <a href="event1.html">
                    <img src="assets/images/event1.jpg" alt="Event 1">
                </a>
                <div class="event-info">
                    <h3><a href="event1.html">Annual Cultural Fest</a></h3>
                    <p><span class="calendar-icon">ðŸ“…</span> 12 October 2025</p>
                </div>
            </div>
            <div class="event-card">
                <a href="event1.html">
                    <img src="assets/images/event1.jpg" alt="Event 1">
                </a>
                <div class="event-info">
                    <h3><a href="event1.html">Annual Cultural Fest</a></h3>
                    <p><span class="calendar-icon">ðŸ“…</span> 12 October 2025</p>
                </div>
            </div>
            <div class="event-card">
                <a href="event1.html">
                    <img src="assets/images/event1.jpg" alt="Event 1">
                </a>
                <div class="event-info">
                    <h3><a href="event1.html">Annual Cultural Fest</a></h3>
                    <p><span class="calendar-icon">ðŸ“…</span> 12 October 2025</p>
                </div>
            </div>
        </div>

        <button class="event-nav next" aria-label="Next events">&#10095;</button>
    </div>

    <div class="carousel-dots"></div>
</section>

<script>
    (function () {
        const container = document.querySelector('.event-carousel-container');
        const carousel = container.querySelector('.event-carousel');
        const cards = Array.from(carousel.querySelectorAll('.event-card'));
        const prevBtn = container.querySelector('.event-nav.prev');
        const nextBtn = container.querySelector('.event-nav.next');
        const dotsContainer = document.querySelector('.carousel-dots');

        let cardWidth = 0, gap = 20, visibleCount = 4, maxIndex = 0, currentIndex = 0;
        let autoplayInterval = null;
        const autoplayDelay = 3000;

        // --- Pagination dots ---
        function createDots() {
            dotsContainer.innerHTML = '';
            for (let i = 0; i <= maxIndex; i++) {
                const dot = document.createElement('div');
                dot.className = 'carousel-dot' + (i === currentIndex ? ' active' : '');
                dot.addEventListener('click', () => { currentIndex = i; updateCarousel(); updateButtons(); });
                dotsContainer.appendChild(dot);
            }
        }

        function updateDots() {
            Array.from(dotsContainer.children).forEach((dot, i) => {
                dot.classList.toggle('active', i === currentIndex);
            });
        }

        function calculateSizes() {
            gap = parseFloat(getComputedStyle(carousel).gap) || 20;
            cardWidth = cards[0].getBoundingClientRect().width;
            const containerWidth = container.getBoundingClientRect().width;
            const step = cardWidth + gap;
            visibleCount = Math.floor(containerWidth / step) || 1;
            maxIndex = Math.max(0, cards.length - visibleCount);
            if (currentIndex > maxIndex) currentIndex = maxIndex;
            updateCarousel(false);
            updateButtons();
            createDots();
        }

        function updateCarousel(animate = true) {
            const step = cardWidth + gap;
            const x = step * currentIndex;
            if (!animate) { carousel.style.transition = 'none'; requestAnimationFrame(() => { carousel.style.transform = `translateX(-${x}px)`; requestAnimationFrame(() => carousel.style.transition = ''); }); }
            else carousel.style.transform = `translateX(-${x}px)`;
            updateDots();
        }

        function updateButtons() {
            prevBtn.disabled = currentIndex <= 0;
            nextBtn.disabled = currentIndex >= maxIndex;
        }

        // Navigation
        nextBtn.addEventListener('click', () => { if (currentIndex < maxIndex) { currentIndex++; updateCarousel(); updateButtons(); } });
        prevBtn.addEventListener('click', () => { if (currentIndex > 0) { currentIndex--; updateCarousel(); updateButtons(); } });

        // Autoplay
        function startAutoplay() { stopAutoplay(); autoplayInterval = setInterval(() => { if (currentIndex < maxIndex) { currentIndex++; } else { currentIndex = 0; } updateCarousel(); updateButtons(); }, autoplayDelay); }
        function stopAutoplay() { if (autoplayInterval) { clearInterval(autoplayInterval); autoplayInterval = null; } }
        container.addEventListener('mouseenter', stopAutoplay);
        container.addEventListener('mouseleave', startAutoplay);

        // Swipe Support
        let startX = 0, isDown = false;
        carousel.addEventListener('touchstart', e => { startX = e.touches[0].clientX; isDown = true; stopAutoplay(); });
        carousel.addEventListener('touchmove', e => { if (!isDown) return; const diff = startX - e.touches[0].clientX; if (diff > 30) { nextBtn.click(); isDown = false; } else if (diff < -30) { prevBtn.click(); isDown = false; } });
        carousel.addEventListener('touchend', e => { isDown = false; startAutoplay(); });

        // Initial calculations
        window.addEventListener('resize', () => { calculateSizes(); });
        window.addEventListener('load', () => { calculateSizes(); startAutoplay(); });
    })();
</script>